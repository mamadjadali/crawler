'use client'

import { gsap } from 'gsap'
import { useLayoutEffect, useRef } from 'react'

const CoolLogo = () => {
  const svgRef = useRef<SVGSVGElement | null>(null)

  useLayoutEffect(() => {
    if (!svgRef.current) return

    const ctx = gsap.context(() => {
      const paths = svgRef.current!.querySelectorAll<SVGPathElement>('path')

      paths.forEach((path) => {
        const length = path.getTotalLength()

        // FORCE drawing state
        path.style.stroke = '#000000'
        path.style.strokeWidth = '2'
        path.style.strokeLinecap = 'round'
        path.style.strokeDasharray = `${length}`
        path.style.strokeDashoffset = `${length}`
        path.style.fillOpacity = '0'
      })

      gsap.to(paths, {
        strokeDashoffset: 0,
        duration: 0.6, // FAST
        stagger: 0.08,
        ease: 'power2.out',
        onComplete: () => {
          gsap.to(paths, {
            fillOpacity: 1,
            strokeOpacity: 0,
            duration: 0.5,
            stagger: 0.05,
          })
        },
      })
    }, svgRef)

    return () => ctx.revert()
  }, [])

  return (
    <svg
      ref={svgRef}
      width="137"
      height="134"
      viewBox="0 0 137 134"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      style={{ display: 'block', margin: '20px auto' }}
    >
      <path
        d="M80.6258 77.7564C80.6585 76.7452 81.9443 76.1117 82.5831 75.9215C82.9841 76.5671 84.5282 78.3884 87.4966 80.5088C90.4651 82.6292 93.3685 81.5418 94.4491 80.733L99.6277 77.1038C101.161 76.6471 101.49 78.2184 101.463 79.0611L97.5278 83.3631C95.5501 85.8301 95.489 87.7262 96.6919 89.6631C98.1055 91.6068 100.929 95.6206 100.912 96.1262C100.896 96.6318 100.036 97.1524 99.6075 97.3495L95.9172 94.067C92.8385 91.4369 89.2434 91.7428 87.721 93.17L70.1871 107.157C48.3309 125.686 32.3193 130.4 27.0455 130.441L25.1494 130.379C39.4864 125.274 59.0959 111.017 67.1085 104.527C71.4376 101.081 80.7565 93.325 83.3988 89.8671C86.0411 86.4092 85.0842 83.3836 84.2754 82.303L80.6258 77.7564Z"
        fill="url(#paint0_linear_22668_2731)"
      />
      <path
        d="M56.0163 56.0838C55.9837 57.0951 54.6979 57.7285 54.059 57.9188C53.6581 57.2732 52.114 55.4518 49.1455 53.3315C46.177 51.2111 43.2737 52.2985 42.1931 53.1073L37.0144 56.7364C35.4812 57.1932 35.1523 55.6219 35.1795 54.7792L39.1144 50.4772C41.092 48.0102 41.1532 46.1141 39.9503 44.1772C38.5366 42.2335 35.7135 38.2197 35.7298 37.7141C35.7461 37.2084 36.6065 36.6879 37.0346 36.4908L40.725 39.7733C43.8036 42.4033 47.3988 42.0975 48.9211 40.6703L66.455 26.6837C88.3112 8.15449 104.323 3.44055 109.597 3.39972L111.493 3.46087C97.1557 8.56626 77.5463 22.8234 69.5337 29.3137C65.2045 32.7594 55.8857 40.5153 53.2434 43.9732C50.6011 47.4311 51.558 50.4567 52.3667 51.5373L56.0163 56.0838Z"
        fill="url(#paint1_linear_22668_2731)"
      />
      <path
        d="M57.3332 78.3001C58.3449 78.3086 59.0088 79.5789 59.2143 80.213C58.5784 80.6293 56.7944 82.2164 54.7455 85.2346C52.6966 88.2528 53.853 91.1294 54.6873 92.1904L58.439 97.281C58.9322 98.8028 57.3692 99.1692 56.5261 99.1621L52.1314 95.331C49.6179 93.4128 47.7209 93.3969 45.8132 94.6457C43.9038 96.1053 39.9586 99.0234 39.4527 99.0192C38.9468 99.0149 38.4058 98.1672 38.1986 97.7439L41.3921 93.9763C43.948 90.8357 43.5564 87.2489 42.0933 85.7611L27.6923 68.5659C8.64684 47.158 3.55218 31.2634 3.38553 25.9921L3.40141 24.0951C8.84745 38.3062 23.5684 57.5699 30.2481 65.4253C33.7961 69.671 41.7721 78.8022 45.2921 81.3612C48.812 83.9203 51.814 82.8914 52.875 82.0571L57.3332 78.3001Z"
        fill="url(#paint2_linear_22668_2731)"
      />
      <path
        d="M79.4604 54.9679C78.4486 54.9594 77.7847 53.6891 77.5792 53.055C78.2151 52.6387 79.9991 51.0516 82.048 48.0334C84.0969 45.0152 82.9406 42.1386 82.1062 41.0776L78.3545 35.987C77.8614 34.4652 79.4243 34.0988 80.2675 34.1059L84.6621 37.937C87.1756 39.8552 89.0727 39.8711 90.9803 38.6223C92.8897 37.1627 96.8349 34.2446 97.3408 34.2488C97.8467 34.2531 98.3877 35.1008 98.5949 35.5241L95.4014 39.2917C92.8456 42.4323 93.2371 46.0191 94.7002 47.5069L109.101 64.7021C128.147 86.11 133.241 102.005 133.408 107.276L133.392 109.173C127.946 94.9618 113.225 75.6981 106.545 67.8427C102.997 63.597 95.0214 54.4658 91.5014 51.9068C87.9815 49.3477 84.9795 50.3766 83.9186 51.2109L79.4604 54.9679Z"
        fill="url(#paint3_linear_22668_2731)"
      />
      <defs>
        <linearGradient
          id="paint0_linear_22668_2731"
          x1="100.86"
          y1="76.5109"
          x2="25.793"
          y2="131.666"
          gradientUnits="userSpaceOnUse"
        >
          <stop offset="0.302885" />
          <stop offset="1" stopColor="#737373" stopOpacity="0" />
        </linearGradient>
        <linearGradient
          id="paint1_linear_22668_2731"
          x1="35.7824"
          y1="57.3294"
          x2="110.849"
          y2="2.17471"
          gradientUnits="userSpaceOnUse"
        >
          <stop offset="0.302885" />
          <stop offset="1" stopColor="#737373" stopOpacity="0" />
        </linearGradient>
        <linearGradient
          id="paint2_linear_22668_2731"
          x1="59.0612"
          y1="98.4985"
          x2="2.13098"
          y2="24.7693"
          gradientUnits="userSpaceOnUse"
        >
          <stop offset="0.302885" />
          <stop offset="1" stopColor="#737373" stopOpacity="0" />
        </linearGradient>
        <linearGradient
          id="paint3_linear_22668_2731"
          x1="77.7323"
          y1="34.7695"
          x2="134.663"
          y2="108.499"
          gradientUnits="userSpaceOnUse"
        >
          <stop offset="0.302885" />
          <stop offset="1" stopColor="#737373" stopOpacity="0" />
        </linearGradient>
      </defs>
    </svg>
  )
}

export default CoolLogo
